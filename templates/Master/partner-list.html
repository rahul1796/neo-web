
<!-- Plugins css -->
<link href="static/assets/libs/flatpickr/flatpickr.min.css" rel="stylesheet" type="text/css" />

    <!-- third party css -->
    
<link href="static/assets/libs/datatables/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />
<link href="static/assets/libs/datatables/responsive.dataTables.min.css" rel="stylesheet" type="text/css" /> 
<link href="static/assets/libs/datatables/responsive.dataTables.min.css" rel="stylesheet" type="text/css" />
<!-- third party css end -->
<style>
    .center {
        margin: auto;
        width: 90%;
        padding: 20px;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    }
    
    .hidedialog {
        display: none;
    }    
</style>
<script>
    $(document).ready(function () {
        $("#tbl_list").dataTable().fnDestroy();
        $('.dropdown-search-filter').select2({
            placeholder:''
        });
        
        LoadPartnerTypes();		
        LoadTable(); 
        role_id=parseInt($('#hdn_home_user_role_id').val());
        if(role_id == 1 || role_id==15)
        {
            $('#btn_create').show();
            $('#btn_add').show();
        }
        else
        {
            $('#btn_create').hide();
            $('#btn_add').hide();
        }

    });
    function LoadPartnerTypes()
    {
        var URL=$('#hdn_web_url').val()+ "/GetPartnerTypes";
            $.ajax({
                type:"GET",
                url:URL,
                async:false,        
                beforeSend:function(x){ if(x && x.overrideMimeType) { x.overrideMimeType("application/json;charset=UTF-8"); } },
                datatype:"json",
                success: function (data){
                    if(data.PartnerTypes != null)
                    {
                        $('#ddlPartnerTypes').empty();
                        var count=data.PartnerTypes.length;
                        if( count> 0)
                        {
                            for(var i=0;i<count;i++)
                                $('#ddlPartnerTypes').append(new Option(data.PartnerTypes[i].Partner_Type_Name,data.PartnerTypes[i].Partner_Type_Id));
                            
                        }
                        else
                        {
                            $('#ddlPartnerTypes').append(new Option('ALL',''));
                        }
                    }
                },
                error:function(err)
                {
                    alert('Error! Please try again');
                    return false;
                }
            });
            return false;
    }
    function LoadTable()
    {
        vartable1 = $("#tbl_list").DataTable({
            "serverSide": true,
            "aLengthMenu": [[10, 25, 50], [10, 25, 50]],
            "paging": true,
            "pageLength": 10,
            "sPaginationType": "full_numbers",
            "scrollX": false,
            "destroy": true,
            "processing": true,
            "language": { "processing": 'Loading..!' },
            "ajax": {
                "url": $('#hdn_web_url').val()+ "/partner_list",
                "type": "POST",
                "dataType": "json",
                "data": function (d) {
                    d.partner_type_ids = $('#ddlPartnerTypes').val().toString() ;
                },
                error: function (e) {
                    $("#tbl_list tbody").empty().append('<tr class="odd"><td valign="top" colspan="16" class="dataTables_empty">ERROR</td></tr>');
                }

            },

            "columns": [
                { "data": "S_No"},
                {
                    "data": function (row, type, val, meta) {
                        var varButtons = ""; 
                        if(role_id == 1|| role_id==15)
                            varButtons += '<a onclick="EditPartnerDetail(\'' + row.Partner_Id + '\')" class="btn" style="cursor:pointer" ><i title="Edit Partner" class="fas fa-edit" ></i></a>';
                        return varButtons;
                    }
                },
                { "data": "Partner_Name" },
                { "data": "Partner_Type_Name"},
                { 
                "data": 
                function (row, type, val, meta) {
                    var varButtons = ""; 
                    if(row.Center_Count==0)
                        varButtons=row.Center_Count;
                    else{
                        varButtons += '<a onclick="GetPartnerCenters(\'' + row.Partner_Id + '\',\'' + row.Partner_Name + '\')"  style="color:blue;cursor:pointer" >' + row.Center_Count + '</a>';
                    }
                    return varButtons;
                }
                },
                { 
                    "data": function (row, type, val, meta) {
                        var varButtons = ""; /*
                        if(row.User_Count=="")
                            varButtons=row.User_Count;
                        else
                        {
                            varButtons += '<a onclick="GetPartnerUsers(\'' + row.Partner_Id + '\',\''+row.Partner_Type_Id+ '\')"  style="color:blue;cursor:pointer" >' + row.User_Count + '</a>';
                        }*/
                        varButtons += '<a onclick="GetPartnerUsers(\'' + row.Partner_Id + '\',\''+row.Partner_Type_Id+ '\',\'' + row.Partner_Name + '\')"  style="color:blue;cursor:pointer" >' + row.User_Count + '</a>';
                        return varButtons;
                        }
                    },
                { "data": "Address"},
                { "data": function (row, type, val, meta) {
                    var varStatus = ""; 
                    if(row.Is_Active)
                        varStatus="Active";
                    else
                        varStatus="In Active";
                    return varStatus;
                    }
                }
            ],
            drawCallback: function(){
                $('#tbl_list_paginate ul.pagination').addClass("pagination-rounded");
            }
        });
    }
    function EditPartnerDetail(PartnerId)
    {
        $('#hdn_partner_id').val(PartnerId);
        $('#form1').submit();
    }
    function GetPartnerUsers(PartnerId,PartnerTypeId,PartnerName)
    {
        $('#hdn_modal_partner_id').val(PartnerId);
        $('#headerUsers').text(PartnerName);
        var URL=$('#hdn_web_url').val()+ "/GetPartnerUsers?partner_id="+PartnerId;
        $.ajax({
            type:"GET",
            url:URL,
            async:false,
            overflow:true,        
            beforeSend:function(x){ if(x && x.overrideMimeType) { x.overrideMimeType("application/json;charset=UTF-8"); } },
            datatype:"json",
            success: function (data){
                varHtml='';
                $("#tbl_users").dataTable().fnDestroy();
                $("#tbl_users tbody").empty();
                if(!jQuery.isEmptyObject(data))
                {   if (data.PartnerUsers != null){
                        count=data.PartnerUsers.length;
                        if (count>0)
                        {   varHtml='';
                            console.log(count);
                            for(var i=0;i<count;i++)
                            {
                                td_open= '  <td style="text-align:center;">' ;
                                td_close=   '</td>';       
                                varHtml+='<tr>';
                                varHtml+='  <td style="text-align:center;">'+ data.PartnerUsers[i].S_No +'</td>';
                                if($('#hdn_home_user_role_id').val()!='37')
                                    varHtml+='  <td style="text-align:center;">'+'<a onclick="EditModal(\'' + data.PartnerUsers[i].User_Name + '\',\'' + data.PartnerUsers[i].Email + '\',\'' + data.PartnerUsers[i].Mobile + '\',\'' + data.PartnerUsers[i].Is_Active + '\',\'' + data.PartnerUsers[i].Partner_User_Id + '\')" class="btn" style="cursor:pointer" ><i title="Edit Partner User" class="fas fa-edit" ></i></a>'+'</td>';
                                else
                                    varHtml+='  <td style="text-align:center;">'+ ''+'</td>';
                                varHtml+='  <td style="text-align:center;">'+ data.PartnerUsers[i].User_Name +'</td>';
                                varHtml+='  <td style="text-align:center;">'+ data.PartnerUsers[i].Email +'</td>';                    
                                varHtml+='  <td style="text-align:center;">'+ data.PartnerUsers[i].Mobile +'</td>';
                                varHtml+='  <td style="text-align:center;">'+ data.PartnerUsers[i].Role +'</td>';   
                                varHtml+='</tr>';                            
                            }
                            $("#tbl_users tbody").append(varHtml);
                                $("#tbl_users").DataTable({
                                drawCallback: function(){
                                    $('#tbl_users_paginate ul.pagination').addClass("pagination-rounded");
                                }
                            });
                                $('#mdl_Partner_Users').modal('show');
                                varHtml='';
                        }
                        else
                        {
                            //varHtml='<tr><td colspan="4" style="text-align:center;">No records found</td></tr>'                            
                            //$("#tbl_users tbody").append(varHtml);
                            $("#tbl_users").DataTable();
                            $('#mdl_Partner_Users').modal('show');
                        } 
                        
                    }
                }
                else
                {
                    //varHtml='<tr><td colspan="4" style="text-align:center;">No records found</td></tr>'
                    //$("#tbl_users tbody").append(varHtml);
                    $("#tbl_users").DataTable();
                    $('#mdl_Partner_Users').modal('show');
                }   
            },
            error:function(err)
            {
                alert('Error! Please try again');
                return false;
            }
        });
        return false;
    }
    function GetPartnerCenters(PartnerId,PartnerName)
    {
        $('#hdn_modal_partner_id_center').val(PartnerId);
        $('#headerCenters').text(PartnerName);
        var URL=$('#hdn_web_url').val()+ "/GetPartnerCenters?partner_id="+PartnerId;
        $.ajax({
            type:"GET",
            url:URL,
            async:false,
            overflow:true,        
            beforeSend:function(x){ if(x && x.overrideMimeType) { x.overrideMimeType("application/json;charset=UTF-8"); } },
            datatype:"json",
            success: function (data){
                varHtml='';
                $("#tbl_centers").dataTable().fnDestroy();
                $("#tbl_centers tbody").empty();
                if(!jQuery.isEmptyObject(data))
                {   if (data.PartnerCenters != null){
                        count=data.PartnerCenters.length;
                        if (count>0)
                        {   varHtml='';
                            //console.log(count);
                            for(var i=0;i<count;i++)
                            {
                                td_open= '  <td style="text-align:center;">' ;
                                td_close=   '</td>';       
                                varHtml+='<tr>';
                                varHtml+='  <td style="text-align:center;">'+ data.PartnerCenters[i].S_No +'</td>';
                                varHtml+='  <td style="text-align:center;">'+ data.PartnerCenters[i].Center_Name +'</td>';
                                varHtml+='  <td style="text-align:center;">'+ data.PartnerCenters[i].Center_Code +'</td>';
                                varHtml+='  <td style="text-align:center;">'+ data.PartnerCenters[i].Center_Type_Name +'</td>';                    
                                varHtml+='  <td style="text-align:center;">'+ data.PartnerCenters[i].Region_Name +'</td>';  
                                varHtml+='  <td style="text-align:center;">'+ data.PartnerCenters[i].State_Name +'</td>';                    
                                varHtml+='  <td style="text-align:center;">'+ data.PartnerCenters[i].District_Name +'</td>';  
                                varHtml+='</tr>';                            
                            }
                            $("#tbl_centers tbody").append(varHtml);
                                $("#tbl_centers").DataTable({
                                drawCallback: function(){
                                    $('#tbl_centers_paginate ul.pagination').addClass("pagination-rounded");
                                }
                            });
                                $('#mdl_Partner_Centers').modal('show');
                                varHtml='';
                        }
                        else
                        {
                            //varHtml='<tr><td colspan="4" style="text-align:center;">No records found</td></tr>'                            
                            //$("#tbl_users tbody").append(varHtml);
                            $("#tbl_centers").DataTable();
                            $('#mdl_Partner_Centers').modal('show');
                        } 
                        
                    }
                }
                else
                {
                    //varHtml='<tr><td colspan="4" style="text-align:center;">No records found</td></tr>'
                    //$("#tbl_users tbody").append(varHtml);
                    $("#tbl_centers").DataTable();
                    $('#mdl_Partner_Centers').modal('show');
                }   
            },
            error:function(err)
            {
                alert('Error! Please try again');
                return false;
            }
        });
        return false;
    }
    function AddModal()
    {       
        $('#isactive').prop('checked',true);
        $('#mdl_Partner_Users').modal('hide');
        $('#mdl_add_edit_Users').modal('show');
    }
    function EditModal(Name,Email,Mobile,IsActive,PartnerUserId)
    {       
        if(IsActive)
            $('#isactive').prop('checked',true);
        else 
            $('#isactive').prop('checked',false);
        $('#UserName').val(Name);
        $('#Email').val(Email);
        $('#Mobile').val(Mobile);
        $('#hdn_partner_user_id').val(PartnerUserId);
        $('#mdl_Partner_Users').modal('hide');
        $('#mdl_add_edit_Users').modal('show');
    }
    function AddeEditPartnerUser()
    {
        if($('#Mobile').val().length!=10)
        {
            alert('Please enter 10 digit mobile number.');
            return false;
        }
        var URL=$('#hdn_web_url').val()+ "/add_edit_partner_user";
        $.ajax({
            type:"POST",
            url:URL,
            data:{
                "UserName" : $('#UserName').val(),
                "Mobile" : $('#Mobile').val(),
                "Email" : $('#Email').val(),
                "isactive" : $('#isactive').prop('checked'),
                "PartnerId":$('#hdn_modal_partner_id').val(),
                "PartnerUserId":$('#hdn_partner_user_id').val()
            },
            success:function(data){
                var message="",title="",icon="";
                if(data.PopupMessage.qp_flag==2){
                    message=data.PopupMessage.message;
                    title="Error";
                    icon="error";
                }
                else{
                    message=data.PopupMessage.message;
                    title="Success";
                    icon="success";
                }
                swal({   
                            title:title,
                            text:message,
                            icon:icon,
                            confirmButtonClass:"btn btn-confirm mt-2"
                            }).then(function(){
                                $('#mdl_add_edit_Users').modal('hide');
                                window.location.href = '/partner';
                            }); 
            },
            error:function(x){
                alert('error');
            }
        });
    }
//////////////////////////////// Upload parter target  UploadFileDataPartner
function Upload_DownloadPartnerTargetMdl()
{
    $('#HduploadFile').text('Upload Partner Target Plan.');
    $('#imgSpinner2').hide();
    $('#mdl_upload_download_partner_target_plan').modal('show');
    $('#myFile').val('');
}
function DownloadPartnerTargetPlanTemplate()
{
    window.location='/Bulk Upload/'+'PartnerTargetPlanTemplate.xlsx';
}
function Download_Partner_Target()
{   
    $("#imgSpinner2").show();
    if(1==0)
        {
            alert("Please select date.");
            $("#imgSpinner2").hide();
        }
    else{
        var id = document.getElementById('imgSpinner2_label');
        id.innerText ='Please wait while downloading...'

        var URL=$('#hdn_web_url').val()+ "/download_Partner_Target_dump"
        $.ajax({

            type: "POST",
            dataType: "json",
            url: URL, 
            data: {
                "user_id":$('#hdn_home_user_id').val(),
                "user_role_id":$('#hdn_home_user_role_id').val(),
                "user_region_id":$('#hdn_user_region_id').val()
            },
            success: function(resp) 
            {
                if (resp.Status){
                    $("#imgSpinner2").hide();
                    var varAnchor = document.getElementById('lnkDownload');
                    varAnchor.href = $('#hdn_web_url').val() + '/Bulk Upload/' + resp.filename;
                    try 
                        { 
                            //in firefox
                            varAnchor.click();
                            return;
                        } catch(ex) {}
                        
                        try 
                        { 
                            // in chrome
                            if(document.createEvent) 
                            {
                                var e = document.createEvent('MouseEvents');
                                e.initEvent( 'click', true, true );
                                varAnchor.dispatchEvent(e);
                                return;
                            }
                        } catch(ex) {}
                        
                        try 
                        { 
                            // in IE
                            if(document.createEventObject) 
                            {
                                    var evObj = document.createEventObject();
                                    varAnchor.fireEvent("onclick", evObj);
                                    return;
                            }
                        } catch(ex) {}
                    
                }
                else{
                    console.log(resp)
                    //alert('Not success')
                    $("#imgSpinner").hide();
                    
                }
            },
            error:function()
            {
                //$("#imgSpinner").hide();
            }
        });
    }
}
function ForceDownload(varUrl, varFileName)
{
    var link = document.createElement('a');
    link.setAttribute('href', varUrl);
    link.setAttribute('download', varFileName);
    link.setAttribute('target', '_blank');
    link.style.display = 'none';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
}

function UploadFileDataPartner(){
    
    var id = document.getElementById('imgSpinner2_label');
    id.innerText ='Please wait while uploading...'

    if ($('#myFile').get(0).files.length === 0) {
        console.log("No files selected.");
    }
    else
    {
        var fileExtension = ['xlsx']
        if ($.inArray($('#myFile').val().split('.').pop().toLowerCase(), fileExtension) == -1) {
            alert("Formats allowed are : "+fileExtension.join(', '));
            return false;
        }
        else
        {          
            $("#imgSpinner2").show();
            var files=document.getElementById("myFile").files;
            var file=files[0];
            var status;
            UploadFileData(file);
        }
        
        var form_data = new FormData($('#formUpload')[0]);
        form_data.append('user_id',$('#hdn_home_user_id').val());
        form_data.append('user_role_id',$('#hdn_home_user_role_id').val());
        $.ajax({
            type: 'POST',
            url: $('#hdn_web_url').val()+ "/upload_partner_target_plan",
            enctype: 'multipart/form-data',
            data: form_data,
            contentType: false,
            cache: false,
            processData: false,
            success: function(data) 
            {
                var message="",title="",icon="";
                if(data.Status){
                    message=data.message;
                    title="Success";
                    icon="success";
                }
                else{
                    if (data.message=="Validation_Error"){
                        message=data.error;
                        title="Error";
                        icon="error";
                    }
                    else {
                        message=data.message;
                        title="Error";
                        icon="error";
                    }
                }
                var span = document.createElement("span");
                span.innerHTML = message;
                swal({   
                            title:title,
                            content: span,
                            //text:message,
                            icon:icon,
                            confirmButtonClass:"btn btn-confirm mt-2"
                            }).then(function(){
                                window.location.href = '/partner';
                            }); 
            },
            error:function(err)
            {
                swal({   
                    title:"Error",
                    text:'Error! Please try again',
                    icon:"error",
                    confirmButtonClass:"btn btn-confirm mt-2"
                    }).then(function(){
                        window.location.href = '/partner';
                });
            }
        });        
    }
}

function UploadFileData(file)
{
    var file_path=$('#hdn_AWS_S3_path').val()+"bulk_upload/partner_planner/" + $('#hdn_home_user_id').val() + '_' + Date.now() + '_' + file.name; 
    var api_url=$('#hdn_COL_url').val() + "s3_signature?file_name="+file_path+"&file_type="+file.type;
    var xhr = new XMLHttpRequest();
    xhr.open("GET",api_url, false );
    xhr.send();

    if(xhr.status === 200 || xhr.status === 204){
        var response = JSON.parse(xhr.responseText);
        uploadFileToS3(file, response.data, response.url);
    }
    else{
        alert("Could not get signed URL.");
    }
}

function uploadFileToS3(file, s3Data, url){
    var xhr = new XMLHttpRequest();
    xhr.open("POST", s3Data.url, false);

    var postData = new FormData();
    for(key in s3Data.fields){
        postData.append(key, s3Data.fields[key]);
    }
    postData.append('file', file);

    xhr.send(postData);
    //console.log(xhr.response);
    if(xhr.status === 200 || xhr.status === 204){
        var response = xhr;
    }
    else{
        alert("Could not upload file to s3.");
    }
}

</script>
<!-- ============================================================== -->
<!-- Start Page Content here -->
<!-- ============================================================== -->
<div class="container-fluid">

    <!-- start page title -->
    <div class="row">
        <div class="col-12">
            <div class="page-title-box">
                <div class="page-title-right">
                    <ol class="breadcrumb m-0">
                        <li class="breadcrumb-item"><a href="javascript: void(0);">NEO</a></li>
                        <li class="breadcrumb-item active">Partners</li>
                    </ol>
                </div>
                <h4 class="page-title">Partners</h4>
            </div>
        </div>
    </div>     
    <!-- end page title -->
    
    <div class="row">
        <div class="col-12">
            <div class="card-box">
                <form id="form1" action="/assign_partner_add_edit_to_home" method="POST">
                    <input type="hidden" id="hdn_partner_id" name="hdn_partner_id" value="0">
                    <div class="row"> 
                        <div class="col-lg-3">
                            <label for="ddlPartnerTypes" class="mr-2">Partner Types</label>
                                <select class="form-control dropdown-search-filter" id="ddlPartnerTypes" multiple >
                            </select>
                        </div>   
                        
                        <div class="col-lg-3" >
                            <button style="margin-top: 30px" type="button" class="btn btn-success waves-effect waves-light" onclick="LoadTable()">Search</button>
                        </div>
                        <div class="col-lg-4" >
                            <button style="float: right; margin-top: 30px; margin-right:10px;"  id="btn_upload" onclick="Upload_DownloadPartnerTargetMdl()" type="button" class="btn btn-info waves-effect waves-light">Upload/Download Target</a>
                        </div>
                        <div class="col-lg-2" >                                        
                            <button style="margin-top: 30px; float: right;" type="submit" id="btn_create" class="btn btn-primary">Create Partner</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div id="get" class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-6">
                            <h4 class="header-title">Partner List</h4>
                        </div>
                        
                    </div>
                    <br/>
                    <div class="col-lg-12">
                        <table id="tbl_list" class="table dt-responsive wrap">
                            <thead>
                                <tr>
                                    <th>S.No</th>
                                    <th>Actions</th>
                                    <th>Partner Name</th>
                                    <th>Partner Type</th>
                                    <th>Center</th>
                                    <th>POC</th>
                                    <th>Address</th>
                                    <th>Status</th>                                    
                                </tr>
                            </thead>
                        
                        <tbody></tbody>
                        </table>
                    </div>
                </div> <!-- end card body-->
            </div> <!-- end card -->
        </div><!-- end col-->
    </div>
    <!-- end row-->    
</div> <!-- end container -->
    
    <!-- end wrapper -->
</form>

<div id="mdl_Partner_Users" class="modal fade" role="dialog">
    <div class="modal-dialog modal-xl">
        <div class="modal-content ">
            <div class="modal-header">
                <h4 class="modal-title" ><span id="headerUsers"></span></h4>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            </div>                    
            <div class="modal-body">
                <input type="hidden" id="hdn_modal_partner_id" name="hdn_modal_partner_id" value="0">
                <div class="row">
                    <div class="col-md-12">
                        <button style="float: right;" type="button" id="btn_add" onclick="AddModal()" class="btn btn-primary">Add User</a>
                    </div>
                </div>
            </br>
                <div >
                    <table id="tbl_users" class="table table-bordered dt-responsive nowrap" style="border-color: lightgray;width:100% !important;font-size: 12px;">
                        <thead>
                            <tr style="background-color: #f5f6f8;">
                                <th  style="border-bottom-color: lightgray;vertical-align:middle;text-align:center;">S.No</th>
                                <th  style="border-bottom-color: lightgray;vertical-align:middle;text-align:center;">Action</th>
                                <th  style="border-bottom-color: lightgray;vertical-align:middle;text-align:center;">Name</th>
                                <th  style="border-bottom-color: lightgray;vertical-align:middle;text-align:center;">Email</th>
                                <th  style="border-bottom-color: lightgray;vertical-align:middle;text-align:center;">Mobile</th>
                                <th  style="border-bottom-color: lightgray;vertical-align:middle;text-align:center;">NEO Role</th>
                            </tr>
                        </thead>
                        <tbody>

                        </tbody>
                    </table>
                </div>	
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal"> Close</button>
            </div>
        </div>
    </div>
</div><!--/.modal-->

<div id="mdl_add_edit_Users" class="modal fade" role="dialog">
    <div class="modal-dialog modal-xl">
        <div class="modal-content ">
            <form action="javascript:AddeEditPartnerUser();" method="POST" >
                <div class="modal-header">
                    <h4 class="modal-title" ><span id="header">Partner User Details</span></h4>
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                </div>                    
                <div class="modal-body">
                    <div class="col-12">
                        <input type="hidden" id="hdn_partner_user_id" name="hdn_partner_user_id" value="0">
                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-4">
                                    <label for="UserName">Name * :</label>
                                </div>
                                <div class="col-lg-6">
                                    <input type="text" class="form-control" name="UserName" id="UserName" required placeholder="Name">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-4">
                                    <label for="Mobile">Mobile * :</label>
                                </div>
                                <div class="col-lg-6">
                                    <input type="number" class="form-control" name="Mobile" id="Mobile" required placeholder="Mobile">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-4">
                                    <label for="Email">Email * :</label>
                                </div>
                                <div class="col-lg-6">
                                    <input type="email" class="form-control" name="Email" id="Email" required placeholder="Email">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-4">
                                    <label>Is Active :</label>
                                </div>
                                <div class="col-lg-6">
                                    <div class="checkbox checkbox-pink mb-0">
                                        <input type="checkbox" name="isactive" id="isactive" ClientIdMode="static" 
                                                        value="1" data-parsley-mincheck="1" >
                                        <label for="isactive"> Is active </label>
                                    </div>
                                </div>   
                            </div>                                     
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary waves-effect" > Save</button>
                    <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal"> Close</button>
                </div>
            </form>
        </div>
    </div>
</div><!--/.modal-->

<div id="mdl_Partner_Centers" class="modal fade" role="dialog">
    <div class="modal-dialog modal-xl">
        <div class="modal-content ">
            <div class="modal-header">
                <h4 class="modal-title" ><span id="headerCenters"></span></h4>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            </div>                    
            <div class="modal-body">
                <input type="hidden" id="hdn_modal_partner_id_center" name="hdn_modal_partner_id_center" value="0">
                <div >
                    <table id="tbl_centers" class="table table-bordered dt-responsive nowrap" style="border-color: lightgray;width:100% !important;font-size: 12px;">
                        <thead>
                            <tr style="background-color: #f5f6f8;">
                                <th  style="border-bottom-color: lightgray;vertical-align:middle;text-align:center;">S.No</th>
                                <th  style="border-bottom-color: lightgray;vertical-align:middle;text-align:center;">Center Name</th>
                                <th  style="border-bottom-color: lightgray;vertical-align:middle;text-align:center;">Center Code</th>
                                <th  style="border-bottom-color: lightgray;vertical-align:middle;text-align:center;">Center Type</th>
                                <th  style="border-bottom-color: lightgray;vertical-align:middle;text-align:center;">Region</th>
                                <th  style="border-bottom-color: lightgray;vertical-align:middle;text-align:center;">State</th>
                                <th  style="border-bottom-color: lightgray;vertical-align:middle;text-align:center;">District</th>
                            </tr>
                        </thead>
                        <tbody>

                        </tbody>
                    </table>
                </div>	
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal"> Close</button>
            </div>
        </div>
    </div>
</div><!--/.modal-->

<div id="mdl_upload_download_partner_target_plan" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content ">
            <form id="formUpload" action="javascript:UploadFileDataPartner()">
            <div class="modal-header">
                <h4 class="modal-title"><span id="HduploadFile"></span></h4>
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <div class="row">
                        <div class="col-lg-4">
                            <label for="myFile">Upload File* :</label>
                        </div>
                        <div class="col-lg-4">
                            <input type="file" id="myFile" name="filename">
                        </div>
                        <div class="col-lg-4">
                            <button class="btn btn-info btn-sm waves-effect waves-light" style="float: right;" type="button" onclick="DownloadPartnerTargetPlanTemplate()">Download Template</button>
                        </div>
                    </div>
                    <br>
                    <div class="row">
                        <div class="col-lg-12">
                            <button class="btn btn-info btn-sm waves-effect waves-light" style="float: right;" type="button" onclick="Download_Partner_Target()">Download Partner Target</button>
                            <!-- <a class="btn btn-primary" style="color:white;font-weight:bold;cursor:pointer;margin-top:30px; float: left;" onclick="DownloadTableBasedOnFilter()">Download</a>  float: right; -->
                            <a id="lnkDownload" style="display:none;"></a>

                        </div>    
                    </div>
                    <div class="row">
                        <div class="col-lg-12" id="imgSpinner2" style="margin-top: 9px;margin-bottom: -23px;">
                            <label id="imgSpinner2_label" style="float: right; display:inline-block;margin-top: 6px;margin-left: 7px;">Please wait while uploading...</label>
                            <img src="static/assets/images/spinner1_old.gif" style="float: right; height:30px;display:inline-block;"/>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-primary waves-effect" type="submit" >Upload</button>
                <button type="button" class="btn btn-secondary waves-effect" data-dismiss="modal" >Close</button>
            </div>
        </form>
        </div>
    </div>
</div><!--/.modal-->

<!-- ============================================================== -->
<!-- End Page content -->
<!-- ============================================================== -->
<!-- Footer Start -->



<!-- third party js -->
<script src="static/assets/libs/datatables/jquery.dataTables.min.js"></script>
<script src="static/assets/libs/datatables/dataTables.bootstrap4.js"></script>
<script src="static/assets/libs/datatables/dataTables.responsive.min.js"></script>
<script src="static/assets/libs/datatables/responsive.bootstrap4.min.js"></script>
<script src="static/assets/libs/datatables/dataTables.buttons.min.js"></script>
<script src="static/assets/libs/datatables/buttons.bootstrap4.min.js"></script>
<script src="static/assets/libs/datatables/buttons.html5.min.js"></script>
<script src="static/assets/libs/datatables/buttons.flash.min.js"></script>
<script src="static/assets/libs/datatables/buttons.print.min.js"></script>
<script src="static/assets/libs/datatables/dataTables.keyTable.min.js"></script>
<script src="static/assets/libs/datatables/dataTables.select.min.js"></script>        
<!-- third party js ends -->
<!-- <script src="static/assets/js/pages/qp-list.js"></script> -->